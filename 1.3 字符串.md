# 字符串

## 1. 大小写转换方法

### `upper()` - 转换为大写

```python
text = "Hello World"
print(text.upper())  # 输出: HELLO WORLD
```

### `lower()` - 转换为小写

```python
text = "Hello World"
print(text.lower())  # 输出: hello world
```

### `capitalize()` - 首字母大写

```python
text = "hello world"
print(text.capitalize())  # 输出: Hello world
```

### `title()` - 每个单词首字母大写

```python
text = "hello world python"
print(text.title())  # 输出: Hello World Python
```

### `swapcase()` - 大小写互换

```python
text = "Hello World"
print(text.swapcase())  # 输出: hELLO wORLD
```

### `casefold()` - 更彻底的小写转换（用于比较）

```python
text = "Straße"  # 德语字母
print(text.casefold())  # 输出: strasse
```

## 2. 查找和替换方法

### `find()` - 查找子串，返回索引（找不到返回-1）

```python
text = "hello world"
print(text.find("world"))  # 输出: 6
print(text.find("python"))  # 输出: -1
print(text.find("l"))      # 输出: 2 (第一个'l')
print(text.find("l", 3))   # 输出: 3 (从索引3开始找)
```

### `index()` - 类似find()，但找不到会报错

```python
text = "hello world"
print(text.index("world"))  # 输出: 6
# text.index("python")      # 会引发 ValueError
```

### `rfind()` / `rindex()` - 从右边开始查找

```python
text = "hello world"
print(text.rfind("l"))  # 输出: 9 (最后一个'l')
```

### `replace()` - 替换子串

```python
text = "hello world"
print(text.replace("world", "Python"))  # 输出: hello Python
print(text.replace("l", "L", 1))       # 输出: heLlo world (只替换第一个)
```

### `count()` - 统计出现次数

```python
text = "hello world"
print(text.count("l"))      # 输出: 3
print(text.count("l", 0, 5)) # 输出: 2 (前5个字符中)
```

## 3. 判断和验证方法

### `startswith()` - 是否以指定字符串开头

```python
text = "hello world"
print(text.startswith("hello"))  # 输出: True
print(text.startswith("world"))  # 输出: False
```

### `endswith()` - 是否以指定字符串结尾

```python
text = "hello world"
print(text.endswith("world"))    # 输出: True
print(text.endswith("hello"))    # 输出: False
```

### `isalpha()` - 是否全是字母

```python
print("hello".isalpha())    # 输出: True
print("hello123".isalpha()) # 输出: False
```

### `isdigit()` - 是否全是数字

```python
print("123".isdigit())      # 输出: True
print("123abc".isdigit())   # 输出: False
```

### `isalnum()` - 是否全是字母或数字

```python
print("hello123".isalnum()) # 输出: True
print("hello 123".isalnum()) # 输出: False (有空格)
```

### `isspace()` - 是否全是空白字符

```python
print("   ".isspace())      # 输出: True
print("hello".isspace())    # 输出: False
```

### `islower()` / `isupper()` - 是否全小写/大写

```python
print("hello".islower())    # 输出: True
print("HELLO".isupper())    # 输出: True
```

## 4. 分割和连接方法

### `split()` - 分割字符串

分割后是一个列表，并且分割的字符会丢失

```python
text = "apple,banana,cherry"
print(text.split(","))      # 输出: ['apple', 'banana', 'cherry']

text = "hello world    python"
print(text.split())         # 输出: ['hello', 'world', 'python'] (默认按空格分割，会忽略首尾空格，同时中间多个空格会合并为一个，不同于 text.split(" "))
print(text.split(" ", 1))   # 输出: ['hello', 'world    python'] (最多分割1次)
```

### `rsplit()` - 从右边开始分割

```python
text = "apple,banana,cherry"
print(text.rsplit(",", 1))  # 输出: ['apple,banana', 'cherry']
```

### `splitlines()` - 按行分割

```python
text = "line1\nline2\rline3\r\nline4"
print(text.splitlines())    # 输出: ['line1', 'line2', 'line3', 'line4']
```

### `join()` - 连接字符串

```python
words = ["hello", "world", "python"]
print(" ".join(words))      # 输出: hello world python
print("-".join(words))      # 输出: hello-world-python
```

### `partition()` / `rpartition()` - 分割为三部分

```python
text = "hello.world.python"
print(text.partition("."))  # 输出: ('hello', '.', 'world.python')
print(text.rpartition(".")) # 输出: ('hello.world', '.', 'python')
```

## 5. 去除空白和填充方法

### `strip()` - 去除两端空白

```python
text = "   hello world   "
print(text.strip())         # 输出: "hello world"
print(text.strip(" hd"))    # 输出: "ello worl" (去除指定字符)
```

### `lstrip()` / `rstrip()` - 去除左/右端空白

```python
text = "   hello world   "
print(text.lstrip())        # 输出: "hello world   "
print(text.rstrip())        # 输出: "   hello world"
```

### `center()` - 居中填充

```python
text = "hello"
print(text.center(11, "-")) # 输出: ---hello---
```

### `ljust()` / `rjust()` - 左/右对齐填充

```python
text = "hello"
print(text.ljust(10, "*"))  # 输出: hello*****
print(text.rjust(10, "*"))  # 输出: *****hello
```

### `zfill()` - 用0填充

```python
text = "42"
print(text.zfill(5))        # 输出: 00042
```

## 6. 编码和解码方法

### `encode()` - 编码为字节

```python
text = "hello世界"
encoded = text.encode("utf-8")
print(encoded)  # 输出: b'hello\xe4\xb8\x96\xe7\x95\x8c'
```

### `decode()` - 从字节解码

```python
bytes_data = b'hello\xe4\xb8\x96\xe7\x95\x8c'
decoded = bytes_data.decode("utf-8")
print(decoded)  # 输出: hello世界
```

## 7. 格式化方法

### `format()` - 字符串格式化

```python
name, age = "Alice", 25
print("{} is {} years old".format(name, age))  # 输出: Alice is 25 years old
print("{1} is {0} years old".format(age, name)) # 输出: Alice is 25 years old
```

### f-string (Python 3.6+)

```python
name, age = "Alice", 25
print(f"{name} is {age} years old")  # 输出: Alice is 25 years old
```

## 8. 其他实用方法

### `expandtabs()` - 替换制表符

```python
text = "hello\tworld"
print(text.expandtabs(4))   # 输出: hello   world
```

### `maketrans()` / `translate()` - 字符转换

```python
# 创建转换表
trans_table = str.maketrans("aeiou", "12345")
text = "hello world"
print(text.translate(trans_table))  # 输出: h2ll4 w4rld
```

### `isidentifier()` - 是否是有效标识符

```python
print("hello".isidentifier())  # 输出: True
print("123hello".isidentifier()) # 输出: False
```

### `isprintable()` - 是否可打印

```python
print("hello".isprintable())  # 输出: True
print("hello\n".isprintable()) # 输出: False
```

## 9. 字符串检查方法组合使用

```python
def is_valid_username(username):
    """检查用户名是否有效"""
    return (len(username) >= 3 and 
            username.isalnum() and 
            not username.isdigit() and
            username[0].isalpha())

print(is_valid_username("alice123"))  # 输出: True
print(is_valid_username("123alice"))  # 输出: False
print(is_valid_username("a"))         # 输出: False
```

## 10. 实际应用示例

### 清理用户输入

```python
def clean_input(user_input):
    """清理用户输入"""
    return user_input.strip().lower()

user_input = "  HELLO World  "
print(clean_input(user_input))  # 输出: hello world
```

### 统计单词频率

```python
def word_frequency(text):
    """统计文本中单词频率"""
    words = text.lower().split()
    frequency = {}
    for word in words:
        # 去除标点符号
        word = word.strip(".,!?;:")
        frequency[word] = frequency.get(word, 0) + 1
    return frequency

text = "Hello world, hello Python! World is beautiful."
print(word_frequency(text))
# 输出: {'hello': 2, 'world': 2, 'python': 1, 'is': 1, 'beautiful': 1}
```
