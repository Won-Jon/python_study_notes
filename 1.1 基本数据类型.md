# Python 基本数据类型详细解析

Python 作为一门动态类型语言，提供了丰富的内置数据类型。理解这些数据类型及其特性是成为 Python 开发者的基石。以下是对 Python 基本数据类型的深入讲解。

## 1. 数值类型 (Numeric Types)

### 整型 (int)

```python
x = 10      # 十进制
y = 0b1010  # 二进制 (10)
z = 0o12    # 八进制 (10)
w = 0xA     # 十六进制 (10)
```

特点：

- Python 3 中 int 没有大小限制（仅受内存限制）
- 支持大整数运算
- `sys.maxsize` 表示最大指针大小（与平台相关）

### 浮点型 (float)

```python
pi = 3.14159
sci = 2.3e-5  # 科学计数法表示 0.000023
```

特点：

- 64位双精度浮点数
- 存在精度问题（如 `0.1 + 0.2 != 0.3`）
- 可用 `decimal` 模块应对金融计算
- `float('inf')` 表示正无穷，`float('-inf')` 负无穷

### 复数 (complex)

```python
c = 3 + 4j
print(c.real)  # 3.0
print(c.imag)  # 4.0
```

## 2. 布尔类型 (Boolean)

### 布尔值 (bool)

```python
t = True
f = False
```

特点：

- 是 int 的子类 (True=1, False=0)
- 所有对象都可以隐式转换为 bool 值：
  - `False`: `None`, `False`, `0`, `""`, `[]`, `{}`, `set()` 等
  - `True`: 其他所有对象

## 3. 序列类型 (Sequence Types)

### 字符串 (str)

```python
s1 = '单引号'
s2 = "双引号"
s3 = """多行
字符串"""
```

特点：

- 不可变序列
- 支持 Unicode (Python 3 中所有字符串都是 Unicode)
- 常用方法：
  - `split()`, `join()`
  - `strip()`, `lower()`, `upper()`
  - `startswith()`, `endswith()`
  - 格式化：f-string (`f"value={x}"`), `format()`

### 字节串 (bytes)

```python
b = b'ASCII-only'
```

特点：

- 不可变字节序列
- 适合处理二进制数据

### 字节数组 (bytearray)

```python
ba = bytearray(b'ASCII')
```

特点：

- bytes 的可变版本

### 列表 (list)

```python
lst = [1, 'a', [3, 4]]
```

特点：

- 可变序列
- 异构容器（可包含不同类型元素）
- 常用方法：
  - `append()`, `extend()`
  - `insert()`, `remove()`, `pop()`
  - `sort()`, `reverse()`

### 元组 (tuple)

```python
t = (1, 'a', 3.14)
single = (1,)  # 单元素元组必须有逗号
```

特点：

- 不可变序列
- 可用作字典键（如果包含的所有元素也是不可变的）
- 比列表更节省内存
- 命名元组 (`collections.namedtuple`) 提供字段名访问

## 4. 映射类型 (Mapping Type)

### 字典 (dict)

```python
d = {'name': 'Alice', 'age': 25}
```

特点：

- 键值对集合
- 键必须是不可变类型
- 高效查找 (O(1))
- 常用方法：
  - `keys()`, `values()`, `items()`
  - `get()`, `update()`
  - `setdefault()`, `pop()`

## 5. 集合类型 (Set Types)

### 集合 (set)

```python
s = {1, 2, 3}
```

特点：

- 无序不重复元素集
- 可变集合
- 支持集合运算：并集 `|`, 交集 `&`, 差集 `-`, 对称差集 `^`

### 不可变集合 (frozenset)

```python
fs = frozenset([1, 2, 3])
```

特点：

- 不可变版本，可用作字典键

## 6. None 类型

```python
n = None
```

特点：

- 表示空值或无值
- 常用于初始化变量
- `None` 是 `NoneType` 类型的唯一实例

## 类型转换

| 函数 | 描述 |
|------|------|
| `int(x)` | 将 x 转换为整数 |
| `float(x)` | 转换为浮点数 |
| `str(x)` | 转换为字符串 |
| `list(x)` | 转换为列表 |
| `tuple(x)` | 转换为元组 |
| `set(x)` | 转换为集合 |
| `dict(x)` | 创建字典 |

## 类型检查

```python
isinstance(42, int)  # 检查类型
type(42) == int      # 直接类型比较（不推荐用于继承情况）
```

## 特殊注意事项

1. **不可变类型**：int, float, bool, str, tuple, frozenset
   - 创建后不能被修改
   - 适用于字典键

2. **可变类型**：list, dict, set, bytearray
   - 可以就地修改
   - 不能作为字典键

3. **整数缓存**：Python 会缓存小整数（-5 到 256）

4. **字符串驻留**：Python 会对一些字符串自动进行 intern

5. **内存管理**：Python 使用引用计数和垃圾回收管理内存

## 内存视图示例

```python
import array
arr = array.array('l', [1, 2, 3])
mv = memoryview(arr)
```

特点：

- 允许直接访问对象的内部数据

## 总结图表

| 数据类型 | 可变性 | 示例 |
|---------|-------|------|
| int     | 不可变 | `42` |
| float   | 不可变 | `3.14` |
| bool    | 不可变 | `True` |
| str     | 不可变 | `"hello"` |
| bytes   | 不可变 | `b"data"` |
| bytearray | 可变 | `bytearray(b"data")` |
| list    | 可变 | `[1, 2, 3]` |
| tuple   | 不可变 | `(1, 2)` |
| dict    | 可变 | `{'a': 1}` |
| set     | 可变 | `{1, 2}` |
| frozenset | 不可变 | `frozenset({1, 2})` |
| NoneType | -    | `None` |

掌握这些基本数据类型及其特性，能帮助您写出更高效、更健壮的 Python 代码。
