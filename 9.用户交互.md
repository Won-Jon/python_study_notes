# 用户交互

```python
a = input("请输入：")

# a 为 str 类型
print(type(a))

强制转换需要 int(a)
```

**1. 输出 (Output) - `print()` 函数**

`print()` 函数是 Python 中最常用的输出函数，用于将信息显示在控制台或终端上。

**基本用法：**

```python
print("Hello, world!")  # 输出字符串
print(42)             # 输出整数
print(3.14)           # 输出浮点数
print(True)           # 输出布尔值
```

**输出多个值：**

`print()` 可以接受多个参数，用逗号分隔。 默认情况下，这些值会以空格分隔。

```python
name = "Alice"
age = 30
print("Name:", name, "Age:", age)  # 输出: Name: Alice Age: 30
```

**自定义分隔符和结尾：**

`print()` 函数提供 `sep` 和 `end` 参数，用于自定义分隔符和结尾字符。

```python
print("apple", "banana", "cherry", sep=", ")  # 输出: apple, banana, cherry
print("Hello", end=" ")
print("World")  # 输出: Hello World (在一行显示)
```

**格式化输出 (Format)：**

Python 提供了多种格式化字符串的方法，以更灵活地控制输出的格式。

* **旧式风格 (使用 `%` 运算符):**

    ```python
    name = "Bob"
    age = 25
    print("Name: %s, Age: %d" % (name, age))  # 输出: Name: Bob, Age: 25，参数过多会抛错
    # %s: 字符串, %d: 整数, %f: 浮点数，%xf: x位小数的浮点数
    ```

* **`str.format()` 方法 (推荐):**

    ```python
    name = "Charlie"
    age = 35
    print("Name: {}, Age: {}".format(name, age))  # 输出: Name: Charlie, Age: 35
    print("Name: {1}, Age: {0}".format(age, name)) # 通过索引 指定顺序，输出 Name: Charlie, Age: 35，参数过多不会抛错，会按照format中的索引定位，参数过少但是对应索引位置参在数据不会抛错
    print("Name: {n}, Age: {a}".format(n=name, a=age)) # 使用关键字参数 输出 Name: Charlie, Age: 35
    print("Pi is approximately {:.2f}".format(3.14159))  # 格式化浮点数，保留两位小数
    ```

* **f-strings (Python 3.6+ 推荐):**

    ```python
    name = "David"
    age = 40
    print(f"Name: {name}, Age: {age}")  # 输出: Name: David, Age: 40
    print(f"Name: {name.upper()}, Age: {age + 5}") # 表达式计算
    ```

    f-strings 非常简洁易读，而且性能通常也更好。

**2. 输入 (Input) - `input()` 函数**

`input()` 函数用于从控制台或终端读取用户输入。

**基本用法：**

```python
name = input("Please enter your name: ")  # 显示提示信息，并等待用户输入
print("Hello,", name)
```

**`input()` 的返回值：**

`input()` 函数总是返回一个**字符串**。 如果需要将输入转换为其他类型（例如整数或浮点数），需要使用强制类型转换函数。

```python
age_str = input("Please enter your age: ")
age = int(age_str)  # 将字符串转换为整数
print("You are", age, "years old.")

height_str = input("Please enter your height (in meters): ")
height = float(height_str) # 转换为浮点数
print("Your height is", height, "meters.")
```

**错误处理：**

在将用户输入转换为数字时，可能会发生 `ValueError` 异常（例如，用户输入了非数字字符）。  需要使用 `try...except` 块来处理这些异常。

```python
try:
    age_str = input("Please enter your age: ")
    age = int(age_str)
    print("You are", age, "years old.")
except ValueError:
    print("Invalid input. Please enter a valid integer for your age.")
```

**综合示例：**

```python
def calculate_area():
    """
    从用户获取矩形的长度和宽度，并计算面积。
    进行错误处理，确保输入是有效的数字。
    """
    try:
        length_str = input("Enter the length of the rectangle: ")
        length = float(length_str)

        width_str = input("Enter the width of the rectangle: ")
        width = float(width_str)

        area = length * width
        print(f"The area of the rectangle is: {area:.2f}")  # 格式化输出，保留两位小数

    except ValueError:
        print("Invalid input. Please enter valid numbers for length and width.")

calculate_area()
```

**一些建议：**

* **提供清晰的提示信息：**  在使用 `input()` 函数时，始终提供清晰的提示信息，告诉用户需要输入什么样的数据。
* **验证输入：**  对用户输入进行验证，确保其符合预期的格式和范围。
* **使用适当的类型转换：**  根据需要将输入转换为适当的数据类型（例如整数、浮点数）。
* **处理错误：**  使用 `try...except` 块来处理可能发生的异常情况。 使用户体验更佳。
