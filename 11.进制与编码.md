# 进制与编码

## 一、进制 (Number Systems)

进制是一种表示数字的方式，它定义了使用哪些符号（数字和字母）来表示数值，以及这些符号是如何组合的。

### 常见进制

* **二进制 (Binary - Base 2):** 使用 0 和 1 表示所有数值。 计算机内部使用二进制存储和处理数据。其中数字是用二进制补码的方式存储的
* **八进制 (Octal - Base 8):** 使用 0 到 7 这 8 个数字表示数值。  通常以 `0o` 或 `0O` 开头表示八进制数。（例如：`0o10` 表示十进制的 8）
* **十进制 (Decimal - Base 10):** 我们日常生活中使用的进制，使用 0 到 9 这 10 个数字表示数值。
* **十六进制 (Hexadecimal - Base 16):** 使用 0 到 9 和 A 到 F (或 a 到 f) 这 16 个符号表示数值。  A 表示 10，B 表示 11，依此类推，F 表示 15。 通常以 `0x` 或 `0X` 开头表示十六进制数。（例如：`0x10` 表示十进制的 16，`0xFF` 表示十进制的 255）

### Python中的进制表示

  Python 本身默认使用十进制。
  你可以用 `0b` 或 `0B` 开头表示二进制数：`0b1010`  (等于十进制的10)
  可以用 `0o` 或 `0O` 开头表示八进制数：`0o12` (等于十进制的10)
  可以用 `0x` 或 `0X` 开头表示十六进制数：`0xA` (等于十进制的10)

### 进制转换

  内置函数 `bin()`, `oct()`, `hex()` 可以将十进制整数转换为二进制, 八进制, 十六进制字符串。
  `int(string, base)` 可以将其他进制的字符串转换为十进制整数 (base 为字符串的进制数)。

```python
# 进制表示
decimal_num = 10
binary_num = 0b1010
octal_num = 0o12
hexadecimal_num = 0xA

print(decimal_num)  # 输出：10
print(binary_num)   # 输出：10
print(octal_num)    # 输出：10
print(hexadecimal_num) # 输出：10

# 进制转换
print(bin(10))   # 输出：'0b1010'
print(oct(10))   # 输出：'0o12'
print(hex(10))   # 输出：'0xa'

print(int("1010", 2))  # 输出：10 (二进制字符串转换为十进制)
print(int("12", 8))    # 输出：10 (八进制字符串转换为十进制)
print(int("A", 16))     # 输出：10 (十六进制字符串转换为十进制)
```

## 二、字符编码 (Character Encoding)（了解）

字符编码定义了如何将人类可读的字符 (例如字母、数字、标点符号、汉字等) 转换为计算机能够理解的二进制数字，反之亦然。

### 常见字符编码

* **ASCII (American Standard Code for Information Interchange):** 最早的字符编码标准，使用 7 位二进制数（0-127）表示 128 个字符，包括英文字母、数字、标点符号和一些控制字符。
* **ISO-8859-1 (Latin-1):**  扩展了 ASCII，使用 8 位二进制数（0-255）表示 256 个字符，包括西欧常用的字符。
* **GBK, GB2312, GB18030:** 中国国家标准的字符编码，用来编码简体中文字符。 GB2312 最早，GBK 扩展了 GB2312，GB18030 包含了更多的汉字和少数民族字符。
* **Big5:**  主要用于台湾地区的繁体中文字符编码。
* **Unicode:** 一个标准，目标是包含世界上所有的字符。 它为每个字符分配一个唯一的数字，称为 *码点* (code point)。  Unicode 本身只定义了字符和码点之间的对应关系，而没有定义如何存储这些码点。
* **UTF-8 (Unicode Transformation Format - 8-bit):**  一种变长的 Unicode 编码方式。UTF-8 是目前互联网上最常用的 Unicode 编码方式。它可以使用 1 到 4 个字节来表示一个 Unicode 字符，兼容 ASCII 编码。
* **UTF-16 (Unicode Transformation Format - 16-bit):**  另一种 Unicode 编码方式。UTF-16 使用 2 或 4 个字节来表示一个 Unicode 字符。
* **UTF-32 (Unicode Transformation Format - 32-bit):** 一种固定长度的Unicode编码方式，始终使用4个字节表示一个Unicode字符。

### Python中的字符编码

  **Python 3 默认使用 UTF-8 编码。** 这意味着 Python 3 的字符串可以包含世界上几乎所有的字符，而不需要额外指定编码。
  可以使用 `encode()` 方法将字符串编码为字节串 (bytes)。
  可以使用 `decode()` 方法将字节串解码为字符串。
  可以使用 `sys.getdefaultencoding()` 查看Python的默认编码。
  可以在Python脚本的开头使用 `# -*- coding: utf-8 -*-` 或 `# coding: utf-8`  来显式指定脚本的编码，这对于处理包含非 ASCII 字符的脚本非常重要。

```python
import sys

# 字符串编码与解码

text = "你好，世界！"

# 编码为 UTF-8
utf8_encoded = text.encode("utf-8")
print(utf8_encoded)  # 输出：b'\xe4\xbd\xa0\xe5\xa5\xbd\xef\xbc\x8c\xe4\xb8\x96\xe7\x95\x8c\xef\xbc\x81'

# 解码为字符串
utf8_decoded = utf8_encoded.decode("utf-8")
print(utf8_decoded)  # 输出：你好，世界！

# 使用不同的编码
gbk_encoded = text.encode("gbk")
print(gbk_encoded) # 输出：b'\xc4\xe3\xba\xc3\xa3\xac\xca\xc0\xbd\xe7\xa3\xa1'

# 错误示例：使用错误的编码解码
# utf8_decoded_wrong = utf8_encoded.decode("gbk") # 会报错，因为用GBK解码UTF-8格式的数据
# print(utf8_decoded_wrong)

print(sys.getdefaultencoding()) # 查看默认编码，通常是utf-8

# 文件编码
# 文件IO时，也需要指定编码，否则可能出现乱码
# with open("test.txt", "w", encoding="utf-8") as f:
#     f.write(text)
```

## 总结

* 进制是数值的表示方式。
* 字符编码定义了字符与数字之间的转换规则，让计算机能够存储和处理文本。
* 计算机内部所有数据都以二进制形式存储，字符编码是将字符转换为二进制数据的桥梁。
* Python 3 默认使用 UTF-8 编码，可以支持多种语言的字符。  在处理文本时，正确理解和使用字符编码非常重要，可以避免出现乱码等问题.
希望这个详细的解释能够帮助你理解 Python 中的进制和编码！
